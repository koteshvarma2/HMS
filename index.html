<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Hospital Management System</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <nav class="top-nav">
    <div class="container">
      <div class="nav-content">
        <div class="logo">üè• HMS</div>
        <ul class="nav-links">
          <li><a href="#" class="nav-link active" data-section="dashboard">Dashboard</a></li>
          <li><a href="#" class="nav-link" data-section="patients">Patients</a></li>
          <li><a href="#" class="nav-link" data-section="doctors">Doctors</a></li>
          <li><a href="#" class="nav-link" data-section="appointments">Appointments</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <main>
    <div class="container">
      <!-- Dashboard -->
      <section id="dashboard" class="section active">
        <h1>Hospital Management System</h1>
        <p class="subtitle">Manage patients, doctors, and appointments efficiently.</p>

        <div class="stats-grid">
          <div class="stat-card" data-navigate="patients">
            <div class="stat-title">Total Patients</div>
            <div class="stat-value" id="patients-count">0</div>
          </div>
          <div class="stat-card" data-navigate="doctors">
            <div class="stat-title">Total Doctors</div>
            <div class="stat-value" id="doctors-count">0</div>
          </div>
          <div class="stat-card" data-navigate="appointments">
            <div class="stat-title">Total Appointments</div>
            <div class="stat-value" id="appointments-count">0</div>
          </div>
        </div>

        <div class="actions-grid">
          <button class="btn" data-navigate="patients">Manage Patients</button>
          <button class="btn" data-navigate="doctors">Manage Doctors</button>
          <button class="btn" data-navigate="appointments">Manage Appointments</button>
        </div>
      </section>

      <!-- Patients -->
      <section id="patients" class="section">
        <h2>Patients Management</h2>
        <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px;">
          <button class="btn" onclick="showAddPatientModal()">+ Add New Patient</button>
          <button class="btn btn-secondary" onclick="exportPatientsCSV()">Export Patients CSV</button>
        </div>

        <div class="search-box">
          <input type="text" id="patient-search" placeholder="Search patients by name..." onkeyup="searchPatients()">
        </div>

        <div class="table-container">
          <table id="patients-table">
            <thead>
              <tr>
                <th>ID</th><th>Name</th><th>Age</th><th>Gender</th><th>Contact</th><th>Blood Group</th><th>Actions</th>
              </tr>
            </thead>
            <tbody id="patients-tbody"></tbody>
          </table>
        </div>
      </section>

      <!-- Doctors -->
      <section id="doctors" class="section">
        <h2>Doctors Management</h2>
        <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px;">
          <button class="btn" onclick="showAddDoctorModal()">+ Add New Doctor</button>
        </div>

        <div class="search-box">
          <input type="text" id="doctor-search" placeholder="Search doctors by name or specialization..." onkeyup="searchDoctors()">
        </div>

        <div class="table-container">
          <table id="doctors-table">
            <thead>
              <tr>
                <th>ID</th><th>Name</th><th>Specialization</th><th>Contact</th><th>Email</th><th>Actions</th>
              </tr>
            </thead>
            <tbody id="doctors-tbody"></tbody>
          </table>
        </div>
      </section>

      <!-- Appointments -->
      <section id="appointments" class="section">
        <h2>Appointments Management</h2>
        <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px;">
          <button class="btn" onclick="showAddAppointmentModal()">+ Schedule Appointment</button>
          <button class="btn btn-secondary" onclick="exportAppointmentsCSV()">Export Appointments CSV</button>
        </div>

        <div class="search-box">
          <input type="text" id="appointment-search" placeholder="Search appointments by patient/doctor..." onkeyup="searchAppointments()">
        </div>

        <div class="table-container">
          <table id="appointments-table">
            <thead>
              <tr>
                <th>ID</th><th>Patient</th><th>Doctor</th><th>Date</th><th>Time</th><th>Status</th><th>Actions</th>
              </tr>
            </thead>
            <tbody id="appointments-tbody"></tbody>
          </table>
        </div>
      </section>
    </div>
  </main>

  <!-- Modals -->
  <!-- Patient Modal -->
  <div id="patient-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="patient-modal-title">Add New Patient</h2>
        <button class="modal-close" onclick="closeModal('patient-modal')">&times;</button>
      </div>
      <form id="patient-form">
        <input type="hidden" id="patient-id">
        <div class="form-row">
          <div class="form-group"><label for="patient-name">Full Name *</label><input type="text" id="patient-name" required></div>
          <div class="form-group"><label for="patient-age">Age *</label><input type="number" id="patient-age" required min="1" max="150"></div>
        </div>
        <div class="form-row">
          <div class="form-group"><label for="patient-gender">Gender *</label>
            <select id="patient-gender" required>
              <option value="">Select</option><option value="Male">Male</option><option value="Female">Female</option><option value="Other">Other</option>
            </select>
          </div>
          <div class="form-group"><label for="patient-blood">Blood Group</label>
            <select id="patient-blood">
              <option value="">Select</option><option value="A+">A+</option><option value="A-">A-</option><option value="B+">B+</option><option value="B-">B-</option><option value="O+">O+</option><option value="O-">O-</option><option value="AB+">AB+</option><option value="AB-">AB-</option>
            </select>
          </div>
        </div>
        <div class="form-group"><label for="patient-contact">Contact Number *</label><input type="tel" id="patient-contact" required></div>
        <div class="form-group"><label for="patient-address">Address</label><textarea id="patient-address"></textarea></div>
        <div style="display:flex;gap:8px;">
          <button type="submit" class="btn">Save Patient</button>
          <button type="button" class="btn btn-secondary" onclick="closeModal('patient-modal')">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Doctor Modal -->
  <div id="doctor-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="doctor-modal-title">Add New Doctor</h2>
        <button class="modal-close" onclick="closeModal('doctor-modal')">&times;</button>
      </div>
      <form id="doctor-form">
        <input type="hidden" id="doctor-id">
        <div class="form-group"><label for="doctor-name">Full Name *</label><input type="text" id="doctor-name" required></div>
        <div class="form-group"><label for="doctor-specialization">Specialization *</label><input type="text" id="doctor-specialization" required></div>
        <div class="form-row">
          <div class="form-group"><label for="doctor-contact">Contact Number *</label><input type="tel" id="doctor-contact" required></div>
          <div class="form-group"><label for="doctor-email">Email *</label><input type="email" id="doctor-email" required></div>
        </div>
        <div style="display:flex;gap:8px;">
          <button type="submit" class="btn">Save Doctor</button>
          <button type="button" class="btn btn-secondary" onclick="closeModal('doctor-modal')">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Appointment Modal -->
  <div id="appointment-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="appointment-modal-title">Schedule Appointment</h2>
        <button class="modal-close" onclick="closeModal('appointment-modal')">&times;</button>
      </div>
      <form id="appointment-form">
        <input type="hidden" id="appointment-id">
        <div class="form-group">
          <label for="appointment-patient">Patient *</label>
          <select id="appointment-patient" required><option value="">Select Patient</option></select>
        </div>
        <div class="form-group">
          <label for="appointment-doctor">Doctor *</label>
          <select id="appointment-doctor" required><option value="">Select Doctor</option></select>
        </div>
        <div class="form-row">
          <div class="form-group"><label for="appointment-date">Date *</label><input type="date" id="appointment-date" required></div>
          <div class="form-group"><label for="appointment-time">Time *</label><input type="time" id="appointment-time" required></div>
        </div>
        <div class="form-group">
          <label for="appointment-status">Status *</label>
          <select id="appointment-status" required><option value="Scheduled">Scheduled</option><option value="Completed">Completed</option><option value="Cancelled">Cancelled</option></select>
        </div>
        <div class="form-group"><label for="appointment-notes">Notes</label><textarea id="appointment-notes"></textarea></div>
        <div style="display:flex;gap:8px;">
          <button type="submit" class="btn">Save Appointment</button>
          <button type="button" class="btn btn-secondary" onclick="closeModal('appointment-modal')">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
